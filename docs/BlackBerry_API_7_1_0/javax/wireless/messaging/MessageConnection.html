<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_04) on Thu Nov 24 17:26:39 EST 2011 -->
<TITLE>
MessageConnection (BlackBerry JDE 7.1.0 API Reference)
</TITLE>

<META NAME="keywords" CONTENT="javax.wireless.messaging.MessageConnection interface">
<META NAME="keywords" CONTENT="BINARY_MESSAGE">
<META NAME="keywords" CONTENT="MULTIPART_MESSAGE">
<META NAME="keywords" CONTENT="TEXT_MESSAGE">
<META NAME="keywords" CONTENT="newMessage()">
<META NAME="keywords" CONTENT="numberOfSegments()">
<META NAME="keywords" CONTENT="receive()">
<META NAME="keywords" CONTENT="send()">
<META NAME="keywords" CONTENT="setMessageListener()">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="MessageConnection (BlackBerry JDE 7.1.0 API Reference)";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<SCRIPT SRC="../../../script.js" TYPE="text/javascript"></SCRIPT>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../javax/wireless/messaging/Message.html" title="interface in javax.wireless.messaging"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../javax/wireless/messaging/MessageListener.html" title="interface in javax.wireless.messaging"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?javax/wireless/messaging/MessageConnection.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MessageConnection.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<FORM action="https://www.blackberry.com/DocsFeedback/" method="GET" target="_new">
<INPUT type="hidden" name="title" value="API Reference">
<INPUT type="hidden" name="source" value="External">
<INPUT type="hidden" name="version" value="7.1.0">
<INPUT type="hidden" name="classname" value="javax.wireless.messaging.MessageConnection">
<INPUT type="submit" value="Submit Feedback" /></FORM>

<BR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
javax.wireless.messaging</FONT>
<BR>
Interface MessageConnection</H2>
<DL>
<DT><B>All Superinterfaces:</B> <DD><A HREF="../../../javax/microedition/io/Connection.html" title="interface in javax.microedition.io">Connection</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public interface <B>MessageConnection</B><DT>extends <A HREF="../../../javax/microedition/io/Connection.html" title="interface in javax.microedition.io">Connection</A></DL>
</PRE>

<P>
The <code>MessageConnection</code> interface defines the basic functionality for sending and
 receiving messages. It contains methods for sending and receiving messages, factory methods to
 create a new <code>Message</code> object, and a method that calculates the number of segments of
 the underlying protocol that are needed to send a specified <code>Message</code> object.
 <p>
 This class is instantiated by a call to <A HREF="../../../javax/microedition/io/Connector.html#open(java.lang.String)"><CODE>Connector.open(String)</CODE></A>. An application SHOULD
 call <A HREF="../../../javax/microedition/io/Connection.html#close()"><CODE>Connection.close()</CODE></A> when it is finished with the connection. An <code>IOException</code> is
 thrown when any method (except <code>close()</code>), which is declared to throw an
 <code>IOException</code>, is called on the <code>MessageConnection</code> after the connection
 has been closed.
 <p>
 Messages are sent on a connection. A connection can be defined as <i>server</i> mode or
 <i>client</i> mode.
 <p>
 In a <i>client</i> mode connection, messages can only be sent. A client mode connection is
 created by passing a string identifying a destination address to the
 <code>Connector.open()</code> method. This method returns a <code>MessageConnection</code>
 object.
 <p>
 In a <i>server</i> mode connection, messages can be sent or received. A server mode connection is
 created by passing a string that identifies an end point (protocol dependent identifier, for
 example, a port number) on the local host to the <code>Connector.open()</code> method. If the
 requested end point identifier is already reserved, either by some system application or by
 another Java application, <code>Connector.open()</code> throws an <code>IOException</code>. Java
 applications can open <code>MessageConnection</code> connections for any unreserved end point
 identifier, although security permissions might not allow it to send or receive messages using
 that end point identifier.
 <p>
 The <i>scheme</i> that identifies which protocol is used is specific to the given protocol. This
 interface does not assume any specific protocol and is intended for all wireless messaging
 protocols.
 <p>
 An application can have several <code>MessageConnection</code> instances open simultaneously;
 these connections can be both client and server mode.
 <p>
 The application can create a class that implements the <A HREF="../../../javax/wireless/messaging/MessageListener.html" title="interface in javax.wireless.messaging"><CODE>MessageListener</CODE></A> interface and
 register an instance of that class with the <code>MessageConnection</code> object(s) to be
 notified of incoming messages. With this technique, a thread does not have to be blocked, waiting
 to receive messages.
 <p>
 This interface is defined in <a href="http://jcp.org/en/jsr/detail?id=205">JSR 205: Wireless
 Messaging API 2.0</a>, which extends and enhances <a
 href="http://www.jcp.org/en/jsr/detail?id=120">JSR 120: Wireless Messaging API</a>
<P>

<P>
<DL>
<DT><B>Since:</B></DT><DD>BlackBerry API 4.0.0</DD>
</DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="" CLASS="SummaryTable">
<TR BGCOLOR="#CCCCFF">
<TH ALIGN="left" COLSPAN="3"><FONT SIZE="+0">
Field Summary</FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../java/lang/String.html" title="class in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/wireless/messaging/MessageConnection.html#BINARY_MESSAGE">BINARY_MESSAGE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constant for a message type for <b>binary</b> messages (value = “binary”).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../java/lang/String.html" title="class in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/wireless/messaging/MessageConnection.html#MULTIPART_MESSAGE">MULTIPART_MESSAGE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constant for a message type for <b>multipart</b> MIME messages (value = “multipart”).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../java/lang/String.html" title="class in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/wireless/messaging/MessageConnection.html#TEXT_MESSAGE">TEXT_MESSAGE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constant for a message type for <b>text</b> messages (value = “text”).</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="" CLASS="SummaryTable">
<TR BGCOLOR="#CCCCFF">
<TH ALIGN="left" COLSPAN="3"><FONT SIZE="+0">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../javax/wireless/messaging/Message.html" title="interface in javax.wireless.messaging">Message</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/wireless/messaging/MessageConnection.html#newMessage(java.lang.String)">newMessage</A></B>(<A HREF="../../../java/lang/String.html" title="class in java.lang">String</A>&nbsp;type)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructs a new message object of a given type.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../javax/wireless/messaging/Message.html" title="interface in javax.wireless.messaging">Message</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/wireless/messaging/MessageConnection.html#newMessage(java.lang.String, java.lang.String)">newMessage</A></B>(<A HREF="../../../java/lang/String.html" title="class in java.lang">String</A>&nbsp;type,
           <A HREF="../../../java/lang/String.html" title="class in java.lang">String</A>&nbsp;address)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructs a new <code>Message</code> object of a given type and initializes it with the
 given destination address.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/wireless/messaging/MessageConnection.html#numberOfSegments(javax.wireless.messaging.Message)">numberOfSegments</A></B>(<A HREF="../../../javax/wireless/messaging/Message.html" title="interface in javax.wireless.messaging">Message</A>&nbsp;msg)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the number of segments in the underlying protocol that would be needed for sending
 the specified <code>Message</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../javax/wireless/messaging/Message.html" title="interface in javax.wireless.messaging">Message</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/wireless/messaging/MessageConnection.html#receive()">receive</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Receives a message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/wireless/messaging/MessageConnection.html#send(javax.wireless.messaging.Message)">send</A></B>(<A HREF="../../../javax/wireless/messaging/Message.html" title="interface in javax.wireless.messaging">Message</A>&nbsp;msg)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sends a message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/wireless/messaging/MessageConnection.html#setMessageListener(javax.wireless.messaging.MessageListener)">setMessageListener</A></B>(<A HREF="../../../javax/wireless/messaging/MessageListener.html" title="interface in javax.wireless.messaging">MessageListener</A>&nbsp;l)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Registers a <code>MessageListener</code> object that the platform can notify when a message
 has been received on this <code>MessageConnection</code>.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_javax.microedition.io.Connection"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from interface javax.microedition.io.<A HREF="../../../javax/microedition/io/Connection.html" title="interface in javax.microedition.io">Connection</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../javax/microedition/io/Connection.html#close()">close</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<BR>

<BR>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF">
<TH ALIGN="left" COLSPAN="1" CLASS="TableHeadingColor"><FONT SIZE="+0">
Field Detail</FONT></TH>
</TR>
</TABLE>
<A NAME="BINARY_MESSAGE"><!-- --></A><H3>
BINARY_MESSAGE</H3>
<PRE>
static final <A HREF="../../../java/lang/String.html" title="class in java.lang">String</A> <B>BINARY_MESSAGE</B></PRE>
<DL>
<DD>Constant for a message type for <b>binary</b> messages (value = “binary”). If this constant
 is used for the type parameter in the <code>newMessage()</code> methods, then the newly
 created <code>Message</code> will be an instance implementing the <A HREF="../../../javax/wireless/messaging/BinaryMessage.html" title="interface in javax.wireless.messaging"><CODE>BinaryMessage</CODE></A>
 interface.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#javax.wireless.messaging.MessageConnection.BINARY_MESSAGE">Constant Field Values</A><DT><B>Since:</B></DT><DD>BlackBerry API 4.0.0</DD>
</DL>
</DL>
<HR>

<A NAME="MULTIPART_MESSAGE"><!-- --></A><H3>
MULTIPART_MESSAGE</H3>
<PRE>
static final <A HREF="../../../java/lang/String.html" title="class in java.lang">String</A> <B>MULTIPART_MESSAGE</B></PRE>
<DL>
<DD>Constant for a message type for <b>multipart</b> MIME messages (value = “multipart”). Using
 this constant as the type parameter in the <code>newMessage()</code> methods will cause the
 newly created <code>Message</code> to be an instance implementing the
 <A HREF="../../../javax/wireless/messaging/MultipartMessage.html" title="interface in javax.wireless.messaging"><CODE>MultipartMessage</CODE></A> interface.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#javax.wireless.messaging.MessageConnection.MULTIPART_MESSAGE">Constant Field Values</A><DT><B>Since:</B></DT><DD>BlackBerry API 4.3.0, WMA 2.0</DD>
</DL>
</DL>
<HR>

<A NAME="TEXT_MESSAGE"><!-- --></A><H3>
TEXT_MESSAGE</H3>
<PRE>
static final <A HREF="../../../java/lang/String.html" title="class in java.lang">String</A> <B>TEXT_MESSAGE</B></PRE>
<DL>
<DD>Constant for a message type for <b>text</b> messages (value = “text”). If this constant is
 used for the type parameter in the <code>newMessage()</code> methods, then the newly created
 <code>Message</code> will be an instance implementing the <A HREF="../../../javax/wireless/messaging/TextMessage.html" title="interface in javax.wireless.messaging"><CODE>TextMessage</CODE></A> interface.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#javax.wireless.messaging.MessageConnection.TEXT_MESSAGE">Constant Field Values</A><DT><B>Since:</B></DT><DD>BlackBerry API 4.0.0</DD>
</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<BR>

<BR>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF">
<TH ALIGN="left" COLSPAN="1" CLASS="TableHeadingColor"><FONT SIZE="+0">
Method Detail</FONT></TH>
</TR>
</TABLE>

<A NAME="newMessage(java.lang.String)"><!-- --></A><H3>
newMessage</H3>
<PRE>
<A HREF="../../../javax/wireless/messaging/Message.html" title="interface in javax.wireless.messaging">Message</A> <B>newMessage</B>(<A HREF="../../../java/lang/String.html" title="class in java.lang">String</A>&nbsp;type)</PRE>
<DL>
<DD>Constructs a new message object of a given type. When the type <code>TEXT_MESSAGE</code> is
 passed in, the created object implements the <A HREF="../../../javax/wireless/messaging/TextMessage.html" title="interface in javax.wireless.messaging"><CODE>TextMessage</CODE></A> interface. When type
 <code>BINARY_MESSAGE</code> constant is passed in, the created object implements the
 <A HREF="../../../javax/wireless/messaging/BinaryMessage.html" title="interface in javax.wireless.messaging"><CODE>BinaryMessage</CODE></A> interface. When type <code>MULTIPART_MESSAGE</code> is passed in, the
 created object implements the <A HREF="../../../javax/wireless/messaging/MultipartMessage.html" title="interface in javax.wireless.messaging"><CODE>MultipartMessage</CODE></A> interface. Adapter definitions for
 messaging protocols can define new constants and new subinterfaces for the
 <code>Message</code>s. The type strings are case-sensitive. The parameter is compared with
 the <A HREF="../../../java/lang/String.html#equals(java.lang.Object)"><CODE>String.equals(Object)</CODE></A> method and does not need to be instance equivalent with the
 constants specified in this class.
 <p>
 For adapter definitions that are not defined within the JCP process, the strings used MUST
 begin with an inverted domain name controlled by the defining organization, as is used for
 Java package names. Strings that do not contain a full stop character "." are reserved for
 specifications done within the JCP process and MUST NOT be used by other organizations
 defining adapter specification.
 <p>
 When this method is called from a <i>client</i> mode connection, the newly created
 <code>Message</code> has the destination address set to the address identified when this
 <code>Connection</code> was created.
 <p>
 When this method is called from a <i>server</i> mode connection, the newly created
 <code>Message</code> does not have the destination address set. It must be set by the
 application before trying to send the message.
 <p>
 If the connection has been closed, this method still returns a <code>Message</code> instance.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>type</CODE> - the type of message to be created. There are constants for basic types defined in
 this interface.
<DT><B>Returns:</B><DD><code>Message</code> object for a given type of message.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</A></CODE> - if the type parameters is not equal to the value of
 <code>TEXT_MESSAGE</code>, <code>BINARY_MESSAGE</code>, <code>MULTIPART_MESSAGE</code>, or
 any other type value specified in a private or publicly standardized adapter specification
 that is supported by the implementation<DT><B>See Also:</B><DD><A HREF="../../../javax/wireless/messaging/MessageConnection.html#newMessage(java.lang.String, java.lang.String)"><CODE>MessageConnection.newMessage(String, String)</CODE></A><DT><B>Since:</B></DT><DD>BlackBerry API 4.0.0</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="newMessage(java.lang.String, java.lang.String)"><!-- --></A><H3>
newMessage</H3>
<PRE>
<A HREF="../../../javax/wireless/messaging/Message.html" title="interface in javax.wireless.messaging">Message</A> <B>newMessage</B>(<A HREF="../../../java/lang/String.html" title="class in java.lang">String</A>&nbsp;type,
                   <A HREF="../../../java/lang/String.html" title="class in java.lang">String</A>&nbsp;address)</PRE>
<DL>
<DD>Constructs a new <code>Message</code> object of a given type and initializes it with the
 given destination address. The semantics related to the parameter type are the same as for
 the method signature with just the type parameter.
 <p>
 If the connection has been closed, this method still returns a <code>Message</code> instance.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>type</CODE> - the type of message to be created. There are constants for basic types defined in
 this interface.<DD><CODE>address</CODE> - destination address for the new message.
<DT><B>Returns:</B><DD><code>Message</code> object for a given type of message.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</A></CODE> - if the type parameters is not equal to the value of
 <code>TEXT_MESSAGE</code>, <code>BINARY_MESSAGE</code>, <code>MULTIPART_MESSAGE</code>, or
 any other type value specified in a private or publicly standardized adapter specification
 that is supported by the implementation<DT><B>See Also:</B><DD><A HREF="../../../javax/wireless/messaging/MessageConnection.html#newMessage(java.lang.String)"><CODE>MessageConnection.newMessage(String)</CODE></A><DT><B>Since:</B></DT><DD>BlackBerry API 4.0.0</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="numberOfSegments(javax.wireless.messaging.Message)"><!-- --></A><H3>
numberOfSegments</H3>
<PRE>
int <B>numberOfSegments</B>(<A HREF="../../../javax/wireless/messaging/Message.html" title="interface in javax.wireless.messaging">Message</A>&nbsp;msg)</PRE>
<DL>
<DD>Returns the number of segments in the underlying protocol that would be needed for sending
 the specified <code>Message</code>.
 <p>
 Note that this method does not actually send the message. It will only calculate the number
 of protocol segments needed for sending the message.
 <p>
 This method will calculate the number of segments needed when this message is split into the
 protocol segments using the appropriate features of the underlying protocol. This method does
 not take into account possible limitations of the implementation that may limit the number of
 segments that can be sent using this feature. These limitations are protocol-specific and are
 documented with the adapter definition for that protocol.
 <p>
 If the connection has been closed, this method returns a count of the message segments that
 would be sent for the provided <code>Message</code>.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>msg</CODE> - the message to be used for the calculation.
<DT><B>Returns:</B><DD>number of protocol segments needed for sending the message. Returns <code>0</code>
 (zero) if the <code>Message</code> object cannot be sent using the underlying protocol.<DT><B>Since:</B></DT><DD>BlackBerry API 4.0.0</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="receive()"><!-- --></A><H3>
receive</H3>
<PRE>
<A HREF="../../../javax/wireless/messaging/Message.html" title="interface in javax.wireless.messaging">Message</A> <B>receive</B>()
                throws <A HREF="../../../java/io/IOException.html" title="class in java.io">IOException</A>,
                       <A HREF="../../../java/io/InterruptedIOException.html" title="class in java.io">InterruptedIOException</A></PRE>
<DL>
<DD>Receives a message.
 <p>
 If there are no messages for this <code>MessageConnection</code> waiting, this method will
 block until either a message for this <code>Connection</code> is received or the
 <code>MessageConnection</code> is closed.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>a <code>Message</code> object representing the information in the received message.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../java/io/IOException.html" title="class in java.io">IOException</A></CODE> - if any of these situations occur:
 <ul>
 <li>there is an error while receiving a message</li> <li>this method is called while the
 connection is closed</li> <li>this method is called on a client mode <code>MessageConnection
 </code></li>
 </ul>
<DD><CODE><A HREF="../../../java/io/InterruptedIOException.html" title="class in java.io">InterruptedIOException</A></CODE> - if this <code>MessageConnection</code> object is closed during
 this receive method call.
<DD><CODE><A HREF="../../../java/lang/SecurityException.html" title="class in java.lang">SecurityException</A></CODE> - if the application does not have permission to receive messages
 using the given port number.<DT><B>See Also:</B><DD><A HREF="../../../javax/wireless/messaging/MessageConnection.html#send(javax.wireless.messaging.Message)"><CODE>MessageConnection.send(Message)</CODE></A><DT><B>Since:</B></DT><DD>BlackBerry API 4.0.0</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="send(javax.wireless.messaging.Message)"><!-- --></A><H3>
send</H3>
<PRE>
void <B>send</B>(<A HREF="../../../javax/wireless/messaging/Message.html" title="interface in javax.wireless.messaging">Message</A>&nbsp;msg)
          throws <A HREF="../../../java/io/IOException.html" title="class in java.io">IOException</A>,
                 <A HREF="../../../java/io/InterruptedIOException.html" title="class in java.io">InterruptedIOException</A></PRE>
<DL>
<DD>Sends a message.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>msg</CODE> - the message to be sent.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../java/io/IOException.html" title="class in java.io">IOException</A></CODE> - if the message could not be sent due to a network failure or if the
 connection is closed.
<DD><CODE><A HREF="../../../java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</A></CODE> - if the message is incomplete or contains invalid
 information. This exception is also thrown if the payload of the message exceeds the maximum
 length for the given messaging protocol. One specific case when the message is considered to
 contain invalid information is if the <code>Message</code> is not of the right type to be
 sent using this <code>MessageConnection</code>; the <code>Message</code> should be created
 using the <code>newMessage()</code> method of the same <code>MessageConnection</code>
 instance as will be used for sending it to ensure that it is of the right type.
<DD><CODE><A HREF="../../../java/io/InterruptedIOException.html" title="class in java.io">InterruptedIOException</A></CODE> - if a timeout occurs while either trying to send the message or
 if this <code>Connection</code> object is closed during this send operation.
<DD><CODE><A HREF="../../../java/lang/NullPointerException.html" title="class in java.lang">NullPointerException</A></CODE> - if the parameter is <code>null</code>.
<DD><CODE><A HREF="../../../java/lang/SecurityException.html" title="class in java.lang">SecurityException</A></CODE> - if the application does not have permission to send the message.<DT><B>See Also:</B><DD><A HREF="../../../javax/wireless/messaging/MessageConnection.html#receive()"><CODE>MessageConnection.receive()</CODE></A><DT><B>Since:</B></DT><DD>BlackBerry API 4.0.0</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="setMessageListener(javax.wireless.messaging.MessageListener)"><!-- --></A><H3>
setMessageListener</H3>
<PRE>
void <B>setMessageListener</B>(<A HREF="../../../javax/wireless/messaging/MessageListener.html" title="interface in javax.wireless.messaging">MessageListener</A>&nbsp;l)
                        throws <A HREF="../../../java/io/IOException.html" title="class in java.io">IOException</A></PRE>
<DL>
<DD>Registers a <code>MessageListener</code> object that the platform can notify when a message
 has been received on this <code>MessageConnection</code>.
 <p>
 If there are incoming messages in the queue of this <code>MessageConnection</code> that have
 not been retrieved by the application prior to calling this method, the newly registered
 listener object will be notified immediately once for each such incoming message in the
 queue.
 <p>
 There can be at most one listener object registered for a <code>MessageConnection</code>
 object at any given point in time. Setting a new listener will de-register any previously-set
 listener.
 <p>
 Passing <code>null</code> as the parameter will de-register any currently registered
 listener.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>l</CODE> - <code>MessageListener</code> object to be registered. If <code>null</code>, any
 currently registered listener will be deregistered and will not receive notifications.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../java/lang/SecurityException.html" title="class in java.lang">SecurityException</A></CODE> - if the application does not have permission to receive messages
 using the given port number.
<DD><CODE><A HREF="../../../java/io/IOException.html" title="class in java.io">IOException</A></CODE> - if the connection has been closed, or if an attempt is made to register a
 listener on a client connection.<DT><B>Since:</B></DT><DD>BlackBerry API 4.0.0</DD>
</DL>
</DD>
</DL>

<BR>

<BR>
<FORM action="https://www.blackberry.com/DocsFeedback/" method="GET" target="_new">
<INPUT type="hidden" name="title" value="API Reference">
<INPUT type="hidden" name="source" value="External">
<INPUT type="hidden" name="version" value="7.1.0">
<INPUT type="hidden" name="classname" value="javax.wireless.messaging.MessageConnection">
<INPUT type="submit" value="Submit Feedback" /></FORM>

<BR>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../javax/wireless/messaging/Message.html" title="interface in javax.wireless.messaging"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../javax/wireless/messaging/MessageListener.html" title="interface in javax.wireless.messaging"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?javax/wireless/messaging/MessageConnection.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="MessageConnection.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
<font size=-1><p>Copyright 1999-2011 Research In Motion Limited.  295 Phillip Street, Waterloo, Ontario, Canada, N2L 3W8.  All Rights Reserved.<br>Java is a trademark of Oracle America Inc. in the US and other countries.<br><a target='_blank' href='http://www.blackberry.com/legal'>Legal</a></p></font>
</BODY>
</HTML>
