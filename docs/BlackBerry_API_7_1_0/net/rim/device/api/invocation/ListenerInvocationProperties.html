<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_04) on Thu Nov 24 17:34:57 EST 2011 -->
<TITLE>
ListenerInvocationProperties (BlackBerry JDE 7.1.0 API Reference)
</TITLE>

<META NAME="keywords" CONTENT="net.rim.device.api.invocation.ListenerInvocationProperties class">
<META NAME="keywords" CONTENT="INVOCATION_IN_CLIENT_PROCESS">
<META NAME="keywords" CONTENT="INVOCATION_IN_CLIENT_APPLICATION">
<META NAME="keywords" CONTENT="INVOCATION_IN_PROXY_PROCESS">
<META NAME="keywords" CONTENT="getType()">
<META NAME="keywords" CONTENT="setType()">
<META NAME="keywords" CONTENT="getApplicationDescriptor()">
<META NAME="keywords" CONTENT="setApplicationDescriptor()">
<META NAME="keywords" CONTENT="getApplication()">
<META NAME="keywords" CONTENT="setApplication()">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="ListenerInvocationProperties (BlackBerry JDE 7.1.0 API Reference)";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<SCRIPT SRC="../../../../../script.js" TYPE="text/javascript"></SCRIPT>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?net/rim/device/api/invocation/ListenerInvocationProperties.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ListenerInvocationProperties.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<FORM action="https://www.blackberry.com/DocsFeedback/" method="GET" target="_new">
<INPUT type="hidden" name="title" value="API Reference">
<INPUT type="hidden" name="source" value="External">
<INPUT type="hidden" name="version" value="7.1.0">
<INPUT type="hidden" name="classname" value="net.rim.device.api.invocation.ListenerInvocationProperties">
<INPUT type="submit" value="Submit Feedback" /></FORM>

<BR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
net.rim.device.api.invocation</FONT>
<BR>
Class ListenerInvocationProperties</H2>
<PRE>
<A HREF="../../../../../java/lang/Object.html" title="class in java.lang">java.lang.Object</A>
  <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by "><B>net.rim.device.api.invocation.ListenerInvocationProperties</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>ListenerInvocationProperties</B><DT>extends <A HREF="../../../../../java/lang/Object.html" title="class in java.lang">Object</A></DL>
</PRE>

<P>
Defines listener invocation properties.
 <p>
 This class is used by a client application to specify how its listener should be called. This class serves as extra parameter
 in various <code>addXXXListener()</code> methods.
<P>

<P>
<DL>
<DT><B>Since:</B></DT><DD>BlackBerry API 7.0.0</DD>
</DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="" CLASS="SummaryTable">
<TR BGCOLOR="#CCCCFF">
<TH ALIGN="left" COLSPAN="3"><FONT SIZE="+0">
Field Summary</FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/rim/device/api/invocation/ListenerInvocationProperties.html#INVOCATION_IN_CLIENT_APPLICATION">INVOCATION_IN_CLIENT_APPLICATION</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constant to indicate that listener should be executed in client application.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/rim/device/api/invocation/ListenerInvocationProperties.html#INVOCATION_IN_CLIENT_PROCESS">INVOCATION_IN_CLIENT_PROCESS</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constant to indicate that listener should be executed in the client process.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/rim/device/api/invocation/ListenerInvocationProperties.html#INVOCATION_IN_PROXY_PROCESS">INVOCATION_IN_PROXY_PROCESS</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constant to indicate that listener should be executed in proxy application.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="" CLASS="SummaryTable">
<TR BGCOLOR="#CCCCFF">
<TH ALIGN="left" COLSPAN="3"><FONT SIZE="+0">
Constructor Summary</FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../net/rim/device/api/invocation/ListenerInvocationProperties.html#ListenerInvocationProperties()">ListenerInvocationProperties</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates default properties.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../net/rim/device/api/invocation/ListenerInvocationProperties.html#ListenerInvocationProperties(int)">ListenerInvocationProperties</A></B>(int&nbsp;type)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates listener invocation properties based on the invocation type</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../net/rim/device/api/invocation/ListenerInvocationProperties.html#ListenerInvocationProperties(net.rim.device.api.system.Application)">ListenerInvocationProperties</A></B>(<A HREF="../../../../../net/rim/device/api/system/Application.html" title="class in net.rim.device.api.system">Application</A>&nbsp;app)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates listener invocation properties based on given application.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../net/rim/device/api/invocation/ListenerInvocationProperties.html#ListenerInvocationProperties(net.rim.device.api.system.ApplicationDescriptor)">ListenerInvocationProperties</A></B>(<A HREF="../../../../../net/rim/device/api/system/ApplicationDescriptor.html" title="class in net.rim.device.api.system">ApplicationDescriptor</A>&nbsp;descr)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates listener invocation properties based on the type and application descriptor.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="" CLASS="SummaryTable">
<TR BGCOLOR="#CCCCFF">
<TH ALIGN="left" COLSPAN="3"><FONT SIZE="+0">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../net/rim/device/api/system/Application.html" title="class in net.rim.device.api.system">Application</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/rim/device/api/invocation/ListenerInvocationProperties.html#getApplication()">getApplication</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../net/rim/device/api/system/ApplicationDescriptor.html" title="class in net.rim.device.api.system">ApplicationDescriptor</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/rim/device/api/invocation/ListenerInvocationProperties.html#getApplicationDescriptor()">getApplicationDescriptor</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns client application descriptor</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/rim/device/api/invocation/ListenerInvocationProperties.html#getType()">getType</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns invocation type</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/rim/device/api/invocation/ListenerInvocationProperties.html#setApplication(net.rim.device.api.system.Application)">setApplication</A></B>(<A HREF="../../../../../net/rim/device/api/system/Application.html" title="class in net.rim.device.api.system">Application</A>&nbsp;app)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/rim/device/api/invocation/ListenerInvocationProperties.html#setApplicationDescriptor(net.rim.device.api.system.ApplicationDescriptor)">setApplicationDescriptor</A></B>(<A HREF="../../../../../net/rim/device/api/system/ApplicationDescriptor.html" title="class in net.rim.device.api.system">ApplicationDescriptor</A>&nbsp;descr)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets client application descriptor</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../net/rim/device/api/invocation/ListenerInvocationProperties.html#setType(int)">setType</A></B>(int&nbsp;type)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets invocation type</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="../../../../../java/lang/Object.html" title="class in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../../java/lang/Object.html#equals(java.lang.Object)">equals</A>, <A HREF="../../../../../java/lang/Object.html#getClass()">getClass</A>, <A HREF="../../../../../java/lang/Object.html#hashCode()">hashCode</A>, <A HREF="../../../../../java/lang/Object.html#notify()">notify</A>, <A HREF="../../../../../java/lang/Object.html#notifyAll()">notifyAll</A>, <A HREF="../../../../../java/lang/Object.html#toString()">toString</A>, <A HREF="../../../../../java/lang/Object.html#wait()">wait</A>, <A HREF="../../../../../java/lang/Object.html#wait(long)">wait</A>, <A HREF="../../../../../java/lang/Object.html#wait(long, int)">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<BR>

<BR>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF">
<TH ALIGN="left" COLSPAN="1" CLASS="TableHeadingColor"><FONT SIZE="+0">
Field Detail</FONT></TH>
</TR>
</TABLE>
<A NAME="INVOCATION_IN_CLIENT_PROCESS"><!-- --></A><H3>
INVOCATION_IN_CLIENT_PROCESS</H3>
<PRE>
public static final int <B>INVOCATION_IN_CLIENT_PROCESS</B></PRE>
<DL>
<DD>Constant to indicate that listener should be executed in the client process.
 <p>
 The client application will have to be running in the background to get notified. When the client application exists its
 listener is automatically unregistered.
 <p>
 Note that when CLIENT_PROCESS type notification is used then the system keeps a weak reference to the given listener
 object. This means that the client application must store hard reference to the listener to prevent it being garbage
 collected. Here is sample code how to keep a hard reference from the application:
 
 <pre>
 public class MyApplication extends Application {
     private MyListener myListener; // hard reference
 
     public void installListener() {
         this.myListener = new MyListener();
         API.addListener( this.myListener );
     }
 }
 
 class MyListener implements Listener {
 }
 </pre>
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../constant-values.html#net.rim.device.api.invocation.ListenerInvocationProperties.INVOCATION_IN_CLIENT_PROCESS">Constant Field Values</A><DT><B>Since:</B></DT><DD>BlackBerry API 7.0.0</DD>
</DL>
</DL>
<HR>

<A NAME="INVOCATION_IN_CLIENT_APPLICATION"><!-- --></A><H3>
INVOCATION_IN_CLIENT_APPLICATION</H3>
<PRE>
public static final int <B>INVOCATION_IN_CLIENT_APPLICATION</B></PRE>
<DL>
<DD>Constant to indicate that listener should be executed in client application.
 <p>
 If the client application is not running then it will be started automatically. The listener will remain registered until
 the application calls unregister or device reboots.
 <p>
 When client application notification is used then the given listener must not store reference to the Application where it
 was created. It means that application and listener logic can not be implemented in the same class. This is required to let
 the client application exit and clean up process resources. Listener code can access its application by calling the
 <A HREF="../../../../../net/rim/device/api/system/Application.html#getApplication()"><CODE>Application.getApplication()</CODE></A> method.
 <p>
 Note that because listener remains registered even after the client application exits, it becomes relatively easy to
 register the same listener multiple times. To avoid duplicate registrations the listener should implement equals() method
 and compare the class name. Here is a sample code:
 
 <pre>
 public class MyApplication extends Application {
     public void installListener() {
         MyListener myListener = new MyListener();
         API.addListener( myListener );
         enterEventDispatcher();
     }
 
     public void beep() {
     }
 }
 
 class MyListener implements Listener {
     public void onEvent() {
         MyApplication app = (MyApplication) Application.getApplication(); // access to current application
         app.invokeLater( new Runnable() {
             public void run() {
                 beep();
             }
         } );
     }
 
     public boolean equals( Object ob ) {
         return ob instanceof MyListener;
     }
 }
 </pre>
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../constant-values.html#net.rim.device.api.invocation.ListenerInvocationProperties.INVOCATION_IN_CLIENT_APPLICATION">Constant Field Values</A><DT><B>Since:</B></DT><DD>BlackBerry API 7.0.0</DD>
</DL>
</DL>
<HR>

<A NAME="INVOCATION_IN_PROXY_PROCESS"><!-- --></A><H3>
INVOCATION_IN_PROXY_PROCESS</H3>
<PRE>
public static final int <B>INVOCATION_IN_PROXY_PROCESS</B></PRE>
<DL>
<DD>Constant to indicate that listener should be executed in proxy application.
 <p>
 The proxy application is always running and allocates threads dynamically, so the client application doesn't have to be
 started each time a listener is called. The listener will remain registered until the application calls unregister.
 <p>
 Similarly to <A HREF="../../../../../net/rim/device/api/invocation/ListenerInvocationProperties.html#INVOCATION_IN_CLIENT_APPLICATION"><CODE>ListenerInvocationProperties.INVOCATION_IN_CLIENT_APPLICATION</CODE></A> type, the listener must not store reference to its application. The
 listener should also implement equals() method to prevent duplicate registration.
 <p>
 Because the listener is executed in a system process, it means that <A HREF="../../../../../net/rim/device/api/system/Application.html#getApplication()"><CODE>Application.getApplication()</CODE></A> call would not
 return client application. Additionally, the client application may not be running at the the time the listener is
 executed. This invocation type should be used to perform some basic logic in the listener callback and optionally start the
 main client application for user interaction. To start client application call to
 <A HREF="../../../../../net/rim/device/api/system/ApplicationManager.html#runApplication(net.rim.device.api.system.ApplicationDescriptor)"><CODE>ApplicationManager.runApplication(ApplicationDescriptor)</CODE></A>. Here is a code sample:
 
 <pre>
 public class MyApplication extends UiApplication {
     static final long MY_APP_DESCRIPTOR = 0x57114469668376edL; // MY_APP_DESCRIPTOR hash but it MUST be unique for each application
     static final long MY_APP_MESSAGE_QUEUE = 0xe2e29c962e9c4214L; // MY_APP_MESSAGE_QUEUE hash but it MUST be unique for each application
 
     public MyApplication() {
         // check if the application has been started at least once
         RuntimeStore runtimeStore = RuntimeStore.getRuntimeStore();
         if( runtimeStore.get( MY_APP_DESCRIPTOR ) == null ) {
             // the application started the very first time - store application descriptor in memory 
             runtimeStore.put( MY_APP_DESCRIPTOR, ApplicationDescriptor.currentApplicationDescriptor() );
             // allocate message queue between application and the listener
             runtimeStore.put( MY_APP_MESSAGE_QUEUE, new Vector() );
         }
         installListener();
         startProcessingMessages();
         enterEventDispatcher();
     }
 
     public void installListener() {
         MyListener myListener = new MyListener();
         API.addListener( myListener );
     }
 
     public void startProcessingMessages() {
         new Thread( new Runnable() {
             public void run() {
                 RuntimeStore runtimeStore = RuntimeStore.getRuntimeStore();
                 Vector messageQueue = (Vector) runtimeStore.get( MyApplication.MY_APP_MESSAGE_QUEUE );
                 while( true ) {
                     String email = null;
                     synchronized( messageQueue ) {
                         if( messageQueue.isEmpty() ) {
                             messageQueue.wait();
                         } else {
                             email = (String) messageQueue.elementAt( 0 );
                             messageQueue.removeElementAt( 0 );
                         }
                     }
                     if( email != null ) {
                         Dialog.inform( "Found email '" + email + "'" );
                     }
                 }
             }
         } ).start();
     }
 }
 
 class MyListener implements Listener {
     public void onEvent( String email ) {
         RuntimeStore runtimeStore = RuntimeStore.getRuntimeStore();
         if( email.endsWith( &quot;@acme.com&quot; ) ) {
             // found email, start my application to notify user
             ApplicationDescriptor myDescr = (ApplicationDescriptor) runtimeStore.get( MyApplication.MY_APP_DESCRIPTOR );
             if( myDescr != null ) {
                 int processID = ApplicationManager.getApplicationManager().runApplication( myDescr );
                 if( processID &gt; 0 ) {
                     Vector messageQueue = (Vector) runtimeStore.get( MyApplication.MY_APP_MESSAGE_QUEUE );
                     synchronized( messageQueue ) {
                         messageQueue.addElement( email );
                         messageQueue.notifyAll();
                     }
                 }
             }
         }
     }
 
     public boolean equals( Object ob ) {
         return ob instanceof MyListener;
     }
 }
 </pre>
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../constant-values.html#net.rim.device.api.invocation.ListenerInvocationProperties.INVOCATION_IN_PROXY_PROCESS">Constant Field Values</A><DT><B>Since:</B></DT><DD>BlackBerry API 7.0.0</DD>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<BR>

<BR>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF">
<TH ALIGN="left" COLSPAN="1" CLASS="TableHeadingColor"><FONT SIZE="+0">
Constructor Detail</FONT></TH>
</TR>
</TABLE>

<A NAME="ListenerInvocationProperties()"><!-- --></A><H3>
ListenerInvocationProperties</H3>
<PRE>
public <B>ListenerInvocationProperties</B>()</PRE>
<DL>
<DD>Creates default properties.
 <p>
 By default <A HREF="../../../../../net/rim/device/api/invocation/ListenerInvocationProperties.html#INVOCATION_IN_CLIENT_PROCESS"><CODE>ListenerInvocationProperties.INVOCATION_IN_CLIENT_PROCESS</CODE></A> type of invocation is used.
<P>
<DL>
<DT><B>Since:</B></DT><DD>BlackBerry API 7.0.0</DD>
</DL>
</DL>
<HR>

<A NAME="ListenerInvocationProperties(net.rim.device.api.system.ApplicationDescriptor)"><!-- --></A><H3>
ListenerInvocationProperties</H3>
<PRE>
public <B>ListenerInvocationProperties</B>(<A HREF="../../../../../net/rim/device/api/system/ApplicationDescriptor.html" title="class in net.rim.device.api.system">ApplicationDescriptor</A>&nbsp;descr)</PRE>
<DL>
<DD>Creates listener invocation properties based on the type and application descriptor. The invocation type will be
 automatically set to <A HREF="../../../../../net/rim/device/api/invocation/ListenerInvocationProperties.html#INVOCATION_IN_CLIENT_APPLICATION"><CODE>ListenerInvocationProperties.INVOCATION_IN_CLIENT_APPLICATION</CODE></A> meaning that the listener execution would happen in the
 client application and if it is not running then it will be started automatically using the given descriptor.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>descr</CODE> - descriptor that defines how to start client application<DT><B>Since:</B></DT><DD>BlackBerry API 7.0.0</DD>
</DL>
</DL>
<HR>

<A NAME="ListenerInvocationProperties(net.rim.device.api.system.Application)"><!-- --></A><H3>
ListenerInvocationProperties</H3>
<PRE>
public <B>ListenerInvocationProperties</B>(<A HREF="../../../../../net/rim/device/api/system/Application.html" title="class in net.rim.device.api.system">Application</A>&nbsp;app)</PRE>
<DL>
<DD>Creates listener invocation properties based on given application. The invocation type will be automatically set to
 <A HREF="../../../../../net/rim/device/api/invocation/ListenerInvocationProperties.html#INVOCATION_IN_CLIENT_PROCESS"><CODE>ListenerInvocationProperties.INVOCATION_IN_CLIENT_PROCESS</CODE></A> meaning that the listener execution would happen in the client application process
 until it runs.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>app</CODE> - application process where the listener will be called<DT><B>Since:</B></DT><DD>BlackBerry API 7.0.0</DD>
</DL>
</DL>
<HR>

<A NAME="ListenerInvocationProperties(int)"><!-- --></A><H3>
ListenerInvocationProperties</H3>
<PRE>
public <B>ListenerInvocationProperties</B>(int&nbsp;type)</PRE>
<DL>
<DD>Creates listener invocation properties based on the invocation type
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>type</CODE> - one of <A HREF="../../../../../net/rim/device/api/invocation/ListenerInvocationProperties.html#INVOCATION_IN_CLIENT_PROCESS"><CODE>ListenerInvocationProperties.INVOCATION_IN_CLIENT_PROCESS</CODE></A>, <A HREF="../../../../../net/rim/device/api/invocation/ListenerInvocationProperties.html#INVOCATION_IN_PROXY_PROCESS"><CODE>ListenerInvocationProperties.INVOCATION_IN_PROXY_PROCESS</CODE></A>,
            <A HREF="../../../../../net/rim/device/api/invocation/ListenerInvocationProperties.html#INVOCATION_IN_CLIENT_APPLICATION"><CODE>ListenerInvocationProperties.INVOCATION_IN_CLIENT_APPLICATION</CODE></A><DT><B>Since:</B></DT><DD>BlackBerry API 7.0.0</DD>
</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<BR>

<BR>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF">
<TH ALIGN="left" COLSPAN="1" CLASS="TableHeadingColor"><FONT SIZE="+0">
Method Detail</FONT></TH>
</TR>
</TABLE>

<A NAME="getType()"><!-- --></A><H3>
getType</H3>
<PRE>
public int <B>getType</B>()</PRE>
<DL>
<DD>Returns invocation type
<P>
<DD><DL>
<DT><B>Since:</B></DT><DD>BlackBerry API 7.0.0</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="setType(int)"><!-- --></A><H3>
setType</H3>
<PRE>
public void <B>setType</B>(int&nbsp;type)</PRE>
<DL>
<DD>Sets invocation type
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>type</CODE> - new type<DT><B>Since:</B></DT><DD>BlackBerry API 7.0.0</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="getApplicationDescriptor()"><!-- --></A><H3>
getApplicationDescriptor</H3>
<PRE>
public <A HREF="../../../../../net/rim/device/api/system/ApplicationDescriptor.html" title="class in net.rim.device.api.system">ApplicationDescriptor</A> <B>getApplicationDescriptor</B>()</PRE>
<DL>
<DD>Returns client application descriptor
<P>
<DD><DL>
<DT><B>Since:</B></DT><DD>BlackBerry API 7.0.0</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="setApplicationDescriptor(net.rim.device.api.system.ApplicationDescriptor)"><!-- --></A><H3>
setApplicationDescriptor</H3>
<PRE>
public void <B>setApplicationDescriptor</B>(<A HREF="../../../../../net/rim/device/api/system/ApplicationDescriptor.html" title="class in net.rim.device.api.system">ApplicationDescriptor</A>&nbsp;descr)</PRE>
<DL>
<DD>Sets client application descriptor
<P>
<DD><DL>
<DT><B>Since:</B></DT><DD>BlackBerry API 7.0.0</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="getApplication()"><!-- --></A><H3>
getApplication</H3>
<PRE>
public <A HREF="../../../../../net/rim/device/api/system/Application.html" title="class in net.rim.device.api.system">Application</A> <B>getApplication</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>application where the listener will be executed<DT><B>Since:</B></DT><DD>BlackBerry API 7.0.0</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="setApplication(net.rim.device.api.system.Application)"><!-- --></A><H3>
setApplication</H3>
<PRE>
public void <B>setApplication</B>(<A HREF="../../../../../net/rim/device/api/system/Application.html" title="class in net.rim.device.api.system">Application</A>&nbsp;app)</PRE>
<DL>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>app</CODE> - application where the listener will be executed<DT><B>Since:</B></DT><DD>BlackBerry API 7.0.0</DD>
</DL>
</DD>
</DL>

<BR>

<BR>
<FORM action="https://www.blackberry.com/DocsFeedback/" method="GET" target="_new">
<INPUT type="hidden" name="title" value="API Reference">
<INPUT type="hidden" name="source" value="External">
<INPUT type="hidden" name="version" value="7.1.0">
<INPUT type="hidden" name="classname" value="net.rim.device.api.invocation.ListenerInvocationProperties">
<INPUT type="submit" value="Submit Feedback" /></FORM>

<BR>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?net/rim/device/api/invocation/ListenerInvocationProperties.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ListenerInvocationProperties.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
<font size=-1><p>Copyright 1999-2011 Research In Motion Limited.  295 Phillip Street, Waterloo, Ontario, Canada, N2L 3W8.  All Rights Reserved.<br>Java is a trademark of Oracle America Inc. in the US and other countries.<br><a target='_blank' href='http://www.blackberry.com/legal'>Legal</a></p></font>
</BODY>
</HTML>
