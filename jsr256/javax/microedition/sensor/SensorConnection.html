<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_03) on Mon Dec 15 13:49:30 EET 2008 -->
<TITLE>
SensorConnection (Mobile Sensor API Version 1.2)
</TITLE>

<META NAME="date" CONTENT="2008-12-15">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SensorConnection (Mobile Sensor API Version 1.2)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/SensorConnection.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b>Mobile Sensor API Version 1.2</b></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../javax/microedition/sensor/RangeCondition.html" title="class in javax.microedition.sensor"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../javax/microedition/sensor/SensorInfo.html" title="interface in javax.microedition.sensor"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?javax/microedition/sensor/SensorConnection.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="SensorConnection.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
javax.microedition.sensor</FONT>
<BR>
Interface SensorConnection</H2>
<DL>
<DT><B>All Superinterfaces:</B> <DD>javax.microedition.io.Connection</DD>
</DL>
<HR>
<DL>
<DT><PRE>public interface <B>SensorConnection</B><DT>extends javax.microedition.io.Connection</DL>
</PRE>

<P>
<p>The <code>SensorConnection</code> is an abstraction of an actual
 sensor. It provides the functionality to retrieve data from a sensor.</p>

 <p>A <b>sensor</b> can be widely understood as any measurement data source. It
 provides a direct output to the physical stimuli such as heat,
 light,  sound, pressure, magnetism, or motion. Alternatively, a
 sensor can be a virtual data source that supplies data, which is collected
 from various sources and manipulated.</p>

 <h3>Synchronous and asynchronous data retrieval modes</h3> 
<p>The main task of a <code>SensorConnection</code> is to enable
 data retrieval from a sensor. The application can retrieve data either <b>synchronously</b> or
 <b>asynchronously</b>. Synchronous mode means that the application is
 iteratively calling <A HREF="../../../javax/microedition/sensor/SensorConnection.html#getData(int)"><CODE>getData(int)</CODE></A>/
 <A HREF="../../../javax/microedition/sensor/SensorConnection.html#getData(int, long, boolean, boolean, boolean)"><CODE>getData(int, long, boolean, boolean, boolean)</CODE></A> methods.
 Asynchronous mode requires the application to implement the
 <A HREF="../../../javax/microedition/sensor/DataListener.html" title="interface in javax.microedition.sensor"><CODE>DataListener</CODE></A> interface.
 When the application implements this interface and registers itself
 with the <code>setDataListener()</code> method, it starts to receive
 <A HREF="../../../javax/microedition/sensor/DataListener.html#dataReceived(javax.microedition.sensor.SensorConnection, javax.microedition.sensor.Data[], boolean)"><CODE>DataListener.dataReceived()</CODE></A> notifications.</p>

 <p>
 Both synchronous and asynchronous retrieval deliver the data
 encapsulated in <code>Data</code> objects.
 The content of <code>Data</code> objects can be configured with parameters of
 <code>getData()/setDataListener()</code> methods. The application is able to configure 
 the buffering of the data, and presence of the timestamp, the
 uncertainty, and
 the validity. Buffering can be controlled with a buffer 
 size parameter, or a buffering period, or both.</p>

 <p>Data buffering with a larger buffer size is recommended
 if the application is performance-critical.
 Buffering has also a favorable effect of easing garbage
 collection. If the sampling rate is, for example, 1000 Hz, by
 setting the size of the buffer to 100, only 10 <code>Data</code> objects per second are
 created. This is far easier to handle than 1000 objects per
 second. Omitting either the timestamp, or the uncertainty, or the
 validity, or all of these
 can also optimize the performance.
 The maximum buffer size MUST be 256 in minimum for all the
 sensors in all the devices. The maximum buffer size of this sensor
 can be obtained with the method <A HREF="../../../javax/microedition/sensor/SensorInfo.html#getMaxBufferSize()"><CODE>SensorInfo.getMaxBufferSize()</CODE></A>. The data retrieval methods will throw
 an <code>IllegalArgumentException</code> if the desired buffer size
 exceeds defined maximum.
 </p> 
 

 <h3>States</h3>
 <p>The <code>SensorConnection</code> has three possible states:</p>
 <ol>
 <li><A HREF="../../../javax/microedition/sensor/SensorConnection.html#STATE_OPENED"><CODE>STATE_OPENED</CODE></A></li>
 <li><A HREF="../../../javax/microedition/sensor/SensorConnection.html#STATE_LISTENING"><CODE>STATE_LISTENING</CODE></A></li>
 <li><A HREF="../../../javax/microedition/sensor/SensorConnection.html#STATE_CLOSED"><CODE>STATE_CLOSED</CODE></A></li>
 </ol>
 <p>Right after the <code>SensorConnection</code> is opened,
 it is in the <code>STATE_OPENED</code> state.
 When the <A HREF="../../../javax/microedition/sensor/DataListener.html" title="interface in javax.microedition.sensor"><CODE>DataListener</CODE></A> is registered, the state moves from
 <code>STATE_OPENED</code> to <code>STATE_LISTENING</code>.
 If the <code>DataListener</code> is removed, the <code>SensorConnection</code>
 returns back to the <code>STATE_OPENED</code> state.
 After the <code>close()</code> method is called, the <code>SensorConnection</code>
 is in its final state, <A HREF="../../../javax/microedition/sensor/SensorConnection.html#STATE_CLOSED"><CODE>STATE_CLOSED</CODE></A>. There
 is no longer any way back to the other states. No data MUST
 be provided for the application after the connection
 is closed.
 The states of
 <code>SensorConnection</code> are presented in the figure below. 
 </p>
 <img src="doc-files/sensor_state.png" alt="The state machine of the
 SensorConnection"/>
 <p>Figure 3: The state machine of <code>SensorConnection</code> class
 </p>
 
 <p>
 Calling some methods may fail if the
 <code>SensorConnection</code> is not in an appropriate state for the
 method. In the table below states and
 corresponding illegal methods are depicted:</p>
 <table border="1">
 <caption title="Illegal methods of the states"/>
 <tr>
 <th><strong>State</strong></th>
 <th><strong>Illegal methods</strong></th>
 </tr>
 <tr>
 <td><A HREF="../../../javax/microedition/sensor/SensorConnection.html#STATE_OPENED"><CODE>STATE_OPENED</CODE></A></td>
 <td>-</td>
 </tr>
 <tr>
 <td><A HREF="../../../javax/microedition/sensor/SensorConnection.html#STATE_LISTENING"><CODE>STATE_LISTENING</CODE></A></td>
 <td><code>getData()</code> throws <code>IllegalStateException</code>
 </td>
 </tr>
 <tr>
 <td><A HREF="../../../javax/microedition/sensor/SensorConnection.html#STATE_CLOSED"><CODE>STATE_CLOSED</CODE></A></td>
 <td><code>getData()</code> throws <code>IOException</code> 
 <code>setDataListener()</code> and
 <code>removeDataListener()</code>
 throw <code>IllegalStateException</code></td>
 </tr>
 </table>
 
 
 <h3>Grouping channels, dividing quantities</h3>
 <p>The <code>SensorConnection</code> may provide
 simultaneous measurements from different channels,
 and for clarity different measurements are stored into separate
 <A HREF="../../../javax/microedition/sensor/Data.html" title="interface in javax.microedition.sensor"><CODE>Data</CODE></A> objects. The number of channels depends on the nature of the
 sensor.  For example, a thermometer 
 returns only one value representing temperature, so it has only one
 channel.
 A 3D compass returns a collection of three values each 
 representing orientation in one particular direction; therefore it is
 a "three-channel" sensor.</p>

<p>In the case of a 3D compass having channels "heading", "pitch", and
"roll", it is 
recommended to group these three channels to be in the same
<code>SensorConnection</code> entity. 
Of course, there is a chance that the application is only interested in the
"heading" values. If this is the case, the <code>SensorConnection</code> dedicated to the "heading" values would serve best. 
However, different, simultaneous modes would increase the complexity of the design and 
implementation and offer only small benefits.
The different <code>SensorConnection</code> implementations
should be aligned with the way the physical 
sensors are measuring things. If a compass is measuring heading,
pitch, and roll values
together in one shot, these values should be channels of one
<code>SensorConnection</code>.</p>

 <p>The situation changes if the measuring device is capable of measuring 
 more than one quantity, for example, humidity and temperature.
 In such a case it is recommended to offer the separate
 <code>SensorConnection</code> for
 each quantity, and not one <code>SensorConnection</code> with two
 channels.    
 It is implementation dependent whether separate
 <code>SensorConnection</code> objects to the same device can be opened simultaneously.</p> 

 <h3>Addressing</h3>
 <p>The <code>SensorConnection</code> is extended from a General Connection Framework's
 <code>Connection</code> to be aligned with a widely accepted convention and 
 to ease the application wakeup based on the usage of the MIDP
 <code>PushRegistry</code>.</p>

 <h3>EBNF Syntax for Connector.open() URL</h3>
 <p>
 A new URL scheme is defined for sensors, and it conforms to the URL format
 described in RFC 2396. When the connection to a sensor is opened
 using <code>Connector.open()</code>, the URL must conform
 to the EBNF syntax specified below.
 If the URL passed to <code>Connector.open()</code> defines the
 "sensor:" scheme but is not valid according to the sensor URL scheme defined here,
 an <code>IllegalArgumentException</code> is thrown. Identical sensors, which
 have the same model information, should provide location information
 to enable to distinguish sensors from each other. Quantity is the only
 mandatory parameter in the URL.  Sensor examples and corresponding
 quantities can be found
 in the table of Appendix A "Finding sensors".</p>
 
 <table border="1" cellpadding="1" cellspacing="0">
 <caption title="URL for Connector.open()"/>
 <tr>
 <td><code>
 &lt;sensor_url&gt;
 </code></td>
 <td><code>
 ::= "sensor:"&lt;sensor_id&gt;
 </code></td></tr>
 <tr><td><code>
 &lt;sensor_id&gt;
 </code></td>
 <td><code>
 ::= &lt;quantity&gt;[&lt;contextType&gt;][&lt;model&gt;][&lt;location&gt;]
 </code></td></tr>
 <tr><td><code>
 &lt;quantity&gt;
 </code></td><td><code>
 ::= ("temperature"|"acceleration"|...)
</code></td></tr>
 <tr><td><code>
 &lt;contextType&gt;
 </code></td><td><code>
 ::= &lt;separator&gt;"contextType="("ambient"|"device"|"user"|"vehicle")
</code></td></tr>
<tr><td><code>
&lt;model&gt;
</code></td><td><code>
::= &lt;separator&gt;"model="&lt;model_id&gt;
</code></td></tr>
<tr><td><code>
&lt;model_id&gt;
</code></td><td><code>
::= &lt;alphanum&gt;*
</code></td></tr>
<tr><td><code>
&lt;location&gt;
</code></td><td><code>
::= &lt;separator&gt;"location="&lt;location_id&gt;
</code></td></tr>
<tr><td><code>
&lt;location_id&gt;
</code></td><td><code>
::= &lt;alphanum&gt;*
</code></td></tr>
<tr><td><code>&lt;separator&gt;</code></td>
<td><code>
::= ";"</code></td></tr>
</table>

 <p>
 Examples of sensor URLs for Connector.open():</p>
 <ul>
 <li><code>sensor:temperature;contextType=ambient;model=ModelName;location=greenhouse</code> 
 An air thermometer, the model of which is "ModelName" and which
 is located in a greenhouse 
 </li>
 <li>
 <code>sensor:pressure;contextType=ambient</code> 
 A pressure meter for air 
 </li>
 <li>
 <code>sensor:blood_pressure;contextType=user</code> 
 A pressure meter for blood pressure 
 </li>
 </ul>
 
 <h2>EBNF Syntax for the <code>PushRegistry</code> URL</h2>
 <p>
 In MIDP 2.0 the <code>PushRegistry</code> provides the push mechanism
 to start the MIDlet based on some specific impulse.
 More information about automatic launch can be found in the Appendix
 C.</p>
 <p>
 When registering sensors to the MIDP <code>PushRegistry</code>, the URL must conform
 to the EBNF syntax specified below.
 When the <code>PushRegistry.registerConnection()</code> is called
 and the connection URL parameter specifies "sensor:" scheme but does
 not conform to this syntax,
 an <code>IllegalArgumentException</code> is thrown.</p>

 <table border="1" cellpadding="1" cellspacing="0">
 <caption title="URL for push"/>
 <tr>
 <td>
 <code>&lt;push_sensor_url&gt;</code></td>
 <td>
 <code>::= &lt;sensor_url&gt;[&lt;params&gt;]</code>
 </td></tr>
 <tr>
 <td><code>&lt;params&gt;</code></td>
 <td><code>::= "?"&lt;channel_list&gt;</code></td>
 </tr>
 <tr>
 <td><code>&lt;channel_list&gt;</code></td>
 <td><code>::= &lt;channel&gt;[&lt;separator2&gt;&lt;channel&gt;]*</code></td>
 </tr>
 <tr>
 <td><code>&lt;channel&gt;</code></td>
 <td><code>::= "channel="&lt;channel_id&gt;&lt;separator2&gt;&lt;condition_list&gt;</code></td>
 </tr>
 <tr><td><code>&lt;channel_id&gt;</code></td>
 <td><code>::= &lt;alphanum&gt;+</code></td>
 </tr>
 <tr>
 <td><code>&lt;condition_list&gt;</code></td>
 <td><code>::= &lt;condition&gt;[&lt;separator2&gt;&lt;condition&gt;]*</code></td>
 </tr>
 <tr>
 <td><code>&lt;condition&gt;</code></td>
 <td><code>::= (&lt;limit&gt;|&lt;range&gt;)</code></td>
 </tr>
 <tr>
 <td><code>&lt;limit&gt;</code></td>
 <td><code>::= "limit="&lt;double&gt;&lt;separator2&gt;"op="("eq"|"lt"|"le"|"ge"|"gt")</code></td>
 </tr>
 <tr>
 <td><code>&lt;range&gt;</code></td>
 <td><code>::="lowerLimit="&lt;double&gt;&lt;separator2&gt; 
"lowerOp="("ge"|"gt")&lt;separator2&gt; 
"upperLimit="&lt;double&gt;&lt;separator2&gt; 
"upperOp="("le"|"lt")</code></td></tr>
<tr>
<td><code>&lt;separator2&gt;</code></td>
<td><code>::= "&amp;"</code></td></tr>
<tr><td><code>&lt;double&gt;</code></td><td><code>
::= "-"?(&lt;integer&gt;|&lt;decimal&gt;)</code></td></tr>
<tr><td><code>&lt;integer&gt;</code></td><td><code>
::= &lt;nonzero-digit&gt;&lt;digit&gt;*</code></td></tr>
<tr><td><code>&lt;decimal&gt;</code></td><td><code>
::= &lt;integer&gt;"."&lt;digit&gt;+</code></td></tr>
<tr><td><code>&lt;digit&gt;</code></td><td><code>
::= "0"|&lt;nonzero-digit&gt;</code></td></tr>
<tr><td><code>&lt;nonzero-digit&gt;</code></td><td><code>
::= "1"|"2"|"3"|"4"|"5"|"6"|"7"|"8"|"9"
 </code></td></tr></table>

 <p>
 Examples of the sensor URLs for the <code>PushRegistry</code>:</p>
 <ul>
 <li>
 <code>sensor:temperature;contextType=ambient?channel=temperature&amp;limit=50.0&amp;op=gt</code> 
 An air thermometer with a limit condition: value &gt; 50.0
 </li>
 <li>
 <code>sensor:humidity;contextType=ambient?channel=humidity&amp;lowerLimit=10.0&amp;lowerOp=gt&amp;upperLimit=55.0&amp;upperOp=lt</code> 
 A humiditymeter with a range condition: 10.0 &lt; value &lt; 55.0
 </li>
 </ul>
 <p>Setting conditions with a URL is analogous to
 specifying them using the <code>Condition</code> classes.
 An <code>ObjectCondition</code> or custom <code>Condition</code> objects
 cannot be used. The application is launched when any of the
 conditions set in the URL are met.
 </p>
<P>

<P>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/sensor/SensorConnection.html#STATE_CLOSED">STATE_CLOSED</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The <code>SensorConnection</code> state after the method <CODE>close()</CODE> is called; the end state.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/sensor/SensorConnection.html#STATE_LISTENING">STATE_LISTENING</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The <code>SensorConnection</code> state when the
 asynchronous data retrieval mode is
 on.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/sensor/SensorConnection.html#STATE_OPENED">STATE_OPENED</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The <code>SensorConnection</code> state after successful instantiation of
 the <code>SensorConnection</code>.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../javax/microedition/sensor/Channel.html" title="interface in javax.microedition.sensor">Channel</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/sensor/SensorConnection.html#getChannel(javax.microedition.sensor.ChannelInfo)">getChannel</A></B>(<A HREF="../../../javax/microedition/sensor/ChannelInfo.html" title="interface in javax.microedition.sensor">ChannelInfo</A>&nbsp;channelInfo)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method returns the <code>Channel</code> object that
maintains <code>Condition</code> objects attached to the
corresponding channel of the sensor.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../javax/microedition/sensor/Data.html" title="interface in javax.microedition.sensor">Data</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/sensor/SensorConnection.html#getData(int)">getData</A></B>(int&nbsp;bufferSize)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrieves data in the synchronous mode.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../javax/microedition/sensor/Data.html" title="interface in javax.microedition.sensor">Data</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/sensor/SensorConnection.html#getData(int, long, boolean, boolean, boolean)">getData</A></B>(int&nbsp;bufferSize,
        long&nbsp;bufferingPeriod,
        boolean&nbsp;isTimestampIncluded,
        boolean&nbsp;isUncertaintyIncluded,
        boolean&nbsp;isValidityIncluded)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrieves data in the synchronous mode.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/sensor/SensorConnection.html#getErrorCodes()">getErrorCodes</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The method will return all the sensor specific error codes
 that the sensor is capable of reporting.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/sensor/SensorConnection.html#getErrorText(int)">getErrorText</A></B>(int&nbsp;errorCode)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The method will return a sensor specific error description based
 on the error code given as a parameter.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../javax/microedition/sensor/SensorInfo.html" title="interface in javax.microedition.sensor">SensorInfo</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/sensor/SensorConnection.html#getSensorInfo()">getSensorInfo</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns <code>SensorInfo</code> that contains information about the
 sensor</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/sensor/SensorConnection.html#getState()">getState</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the current state of the <code>SensorConnection</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/sensor/SensorConnection.html#removeDataListener()">removeDataListener</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes the <code>DataListener</code> registered to this
 <code>SensorConnection</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/sensor/SensorConnection.html#setDataListener(javax.microedition.sensor.DataListener, int)">setDataListener</A></B>(<A HREF="../../../javax/microedition/sensor/DataListener.html" title="interface in javax.microedition.sensor">DataListener</A>&nbsp;listener,
                int&nbsp;bufferSize)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Registers a <code>DataListener</code> to receive collected data
 asynchronously.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../javax/microedition/sensor/SensorConnection.html#setDataListener(javax.microedition.sensor.DataListener, int, long, boolean, boolean, boolean)">setDataListener</A></B>(<A HREF="../../../javax/microedition/sensor/DataListener.html" title="interface in javax.microedition.sensor">DataListener</A>&nbsp;listener,
                int&nbsp;bufferSize,
                long&nbsp;bufferingPeriod,
                boolean&nbsp;isTimestampIncluded,
                boolean&nbsp;isUncertaintyIncluded,
                boolean&nbsp;isValidityIncluded)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Registers a <code>DataListener</code> to receive collected data
 asynchronously.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_javax.microedition.io.Connection"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from interface javax.microedition.io.Connection</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>close</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="STATE_OPENED"><!-- --></A><H3>
STATE_OPENED</H3>
<PRE>
static final int <B>STATE_OPENED</B></PRE>
<DL>
<DD><p>The <code>SensorConnection</code> state after successful instantiation of
 the <code>SensorConnection</code>. The connection is open and data
 can be retrieved.</p>
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#javax.microedition.sensor.SensorConnection.STATE_OPENED">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="STATE_LISTENING"><!-- --></A><H3>
STATE_LISTENING</H3>
<PRE>
static final int <B>STATE_LISTENING</B></PRE>
<DL>
<DD><p>The <code>SensorConnection</code> state when the
 asynchronous data retrieval mode is
 on. The application is listening to <A HREF="../../../javax/microedition/sensor/DataListener.html#dataReceived(javax.microedition.sensor.SensorConnection, javax.microedition.sensor.Data[], boolean)"><CODE>DataListener.dataReceived()</CODE></A>
 notifications.</p>
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#javax.microedition.sensor.SensorConnection.STATE_LISTENING">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="STATE_CLOSED"><!-- --></A><H3>
STATE_CLOSED</H3>
<PRE>
static final int <B>STATE_CLOSED</B></PRE>
<DL>
<DD><p>The <code>SensorConnection</code> state after the method <CODE>close()</CODE> is called; the end state.</p>
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#javax.microedition.sensor.SensorConnection.STATE_CLOSED">Constant Field Values</A></DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getChannel(javax.microedition.sensor.ChannelInfo)"><!-- --></A><H3>
getChannel</H3>
<PRE>
<A HREF="../../../javax/microedition/sensor/Channel.html" title="interface in javax.microedition.sensor">Channel</A> <B>getChannel</B>(<A HREF="../../../javax/microedition/sensor/ChannelInfo.html" title="interface in javax.microedition.sensor">ChannelInfo</A>&nbsp;channelInfo)</PRE>
<DL>
<DD><p>This method returns the <code>Channel</code> object that
maintains <code>Condition</code> objects attached to the
corresponding channel of the sensor.
The channelInfo parameter is compared using instance equality and
therefore needs to be an instance previously returned from
<A HREF="../../../javax/microedition/sensor/SensorInfo.html#getChannelInfos()"><CODE>SensorInfo.getChannelInfos()</CODE></A>
method of the <code>SensorInfo</code> object corresponding to this sensor.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>channelInfo</CODE> - the <code>ChannelInfo</code> object which
defines the channel
<DT><B>Returns:</B><DD><code>Channel</code>
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - if <code>SensorInfo</code>
does not contain matching <code>ChannelInfo</code> object
<DD><CODE>java.lang.NullPointerException</CODE> - if the channelInfo is
<code>null</code></DL>
</DD>
</DL>
<HR>

<A NAME="getData(int)"><!-- --></A><H3>
getData</H3>
<PRE>
<A HREF="../../../javax/microedition/sensor/Data.html" title="interface in javax.microedition.sensor">Data</A>[] <B>getData</B>(int&nbsp;bufferSize)
               throws java.io.IOException</PRE>
<DL>
<DD><p>Retrieves data in the synchronous mode. 
 The collection of the data is started when the method is called.
 When this <code>getData()</code> method is used, timestamp,
 validity, and
 uncertainty values are not included in <code>Data</code> objects. The method
 will return when the size of the data value buffer equals the bufferSize
 parameter. The bufferSize parameter defines the number of
 samples inside each <code>Data</code> object. 
 </p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>bufferSize</CODE> - the size of the data value buffer of the <A HREF="../../../javax/microedition/sensor/Data.html" title="interface in javax.microedition.sensor"><CODE>Data</CODE></A> object
 - value must be &gt; 0
<DT><B>Returns:</B><DD>the collected data of all the channels of this
 sensor. There will be as many <code>Data</code> objects
 returned as there are channels.
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - if bufferSize &lt; 1 or if
 bufferSize exceeds the maximum size of the buffer
<DD><CODE>java.io.IOException</CODE> - if the state is <A HREF="../../../javax/microedition/sensor/SensorConnection.html#STATE_CLOSED"><CODE>STATE_CLOSED</CODE></A>
 or if I/O operations on the <code>SensorConnection</code> are being
 blocked, which can happen, for example, when a sensor becomes
 unavailable or when the <code>SensorConnection</code> is closed
 with the <code>close()</code> method during a call to this
 method. The <code>IOException</code> MUST be thrown right away
 after the sensor becomes unavailable.
<DD><CODE>java.lang.IllegalStateException</CODE> - if the state is <A HREF="../../../javax/microedition/sensor/SensorConnection.html#STATE_LISTENING"><CODE>STATE_LISTENING</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getData(int, long, boolean, boolean, boolean)"><!-- --></A><H3>
getData</H3>
<PRE>
<A HREF="../../../javax/microedition/sensor/Data.html" title="interface in javax.microedition.sensor">Data</A>[] <B>getData</B>(int&nbsp;bufferSize,
               long&nbsp;bufferingPeriod,
               boolean&nbsp;isTimestampIncluded,
               boolean&nbsp;isUncertaintyIncluded,
               boolean&nbsp;isValidityIncluded)
               throws java.io.IOException</PRE>
<DL>
<DD><p>Retrieves data in the synchronous mode. The data
 is collected from the sensor according to the given parameters.
 The collection of the data is started when the method is called.
 If data cannot be retrieved then a zero-length
 <code>Data</code> array
 is returned. This can happen, for example, when the bufferingPeriod
 is very small and the measurement is slow.</p>
 
<p>The parameters of the method have an effect on retrieved <code>Data</code>
 objects. The size of the data value buffer is defined and/or the
 time period to buffer the data and
 whether the additional information, such as timestamps,
 uncertainties, and validities, should be included.
 The data value buffer size is controlled with both parameters
 <code>bufferSize</code> and <code>bufferingPeriod</code>.
 A negative value indicates that the parameter is left undefined.
 The <code>bufferSize</code> and <code>bufferingPeriod</code> have the
 following relationship:</p>
 <ul>
 <li> if the bufferSize is &lt; 1 then the bufferingPeriod must
 be &gt; 0. In this case the size of the buffer inside the
 <code>Data</code> object is determined by how much
 data is retrieved from the sensor during the bufferingPeriod.
 However, the size of the buffer MUST NOT exceed the
 the maximum buffer size of the sensor, obtained with the
 method <A HREF="../../../javax/microedition/sensor/SensorInfo.html#getMaxBufferSize()"><CODE>SensorInfo.getMaxBufferSize()</CODE></A>.</li>
 <li> if the bufferingPeriod is &lt; 1 then the bufferSize must
 be &gt; 0. The size of the buffer inside <code>Data</code>
 object equals to bufferSize.</li>
 <li> if the bufferSize &gt; 0 and the bufferingPeriod &gt; 0, the method
 will return when either the size of the data value buffer equals
 the bufferSize, or collection time equals or exceeds
 the bufferingPeriod.
 If the sampling rate of the sensor fluctuates a lot
 then also the buffer sizes inside <A HREF="../../../javax/microedition/sensor/Data.html" title="interface in javax.microedition.sensor"><CODE>Data</CODE></A> objects may differ a
 lot. The size of the buffer can be equal to or less than
 bufferSize.</li>
 </ul>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>bufferSize</CODE> - the size of the buffer of the data values,
 bufferSize &lt; 1 means the size is left undefined<DD><CODE>bufferingPeriod</CODE> - the time to buffer values - given in
 milliseconds, bufferingPeriod &lt; 1 means the period is left
 undefined<DD><CODE>isTimestampIncluded</CODE> - if <code>true</code> timestamps
 should be included in returned <code>Data</code> objects<DD><CODE>isUncertaintyIncluded</CODE> - if <code>true</code> uncertainties
 should be included in returned <code>Data</code> objects<DD><CODE>isValidityIncluded</CODE> - if <code>true</code> validities
 should be included in returned <code>Data</code> objects
<DT><B>Returns:</B><DD>collected data of all the channels of this
 sensor.  There will be as many <code>Data</code> objects
 returned as there are channels.
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - if the both, bufferSize and
 bufferingPeriod, have values less than 1, or if
 bufferSize exceeds the maximum size of the buffer
<DD><CODE>java.lang.IllegalStateException</CODE> - if the state is <A HREF="../../../javax/microedition/sensor/SensorConnection.html#STATE_LISTENING"><CODE>STATE_LISTENING</CODE></A>
<DD><CODE>java.io.IOException</CODE> - if the state is <A HREF="../../../javax/microedition/sensor/SensorConnection.html#STATE_CLOSED"><CODE>STATE_CLOSED</CODE></A>
 or if I/O operations on the <code>SensorConnection</code> are being
 blocked, which can happen, for example, when a sensor becomes
 unavailable or when the <code>SensorConnection</code> is closed
 with the <code>close()</code> method during a call to this
 method. The <code>IOException</code> MUST be thrown right away
 after the sensor becomes unavailable.</DL>
</DD>
</DL>
<HR>

<A NAME="getErrorCodes()"><!-- --></A><H3>
getErrorCodes</H3>
<PRE>
int[] <B>getErrorCodes</B>()</PRE>
<DL>
<DD><p>The method will return all the sensor specific error codes
 that the sensor is capable of reporting. When adding a new sensor
 its error codes MUST be documented if the sensor is reporting errors.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>all the valid error codes as an <code>int</code> array. If the
 sensor is not reporting errors, i.e. the property
 <code>PROP_IS_REPORTING_ERRORS</code> is not set, then a zero-length
 <code>int</code> array
 is returned. If the sensor reports errors, there MUST be at
 least one error code returned.</DL>
</DD>
</DL>
<HR>

<A NAME="getErrorText(int)"><!-- --></A><H3>
getErrorText</H3>
<PRE>
java.lang.String <B>getErrorText</B>(int&nbsp;errorCode)</PRE>
<DL>
<DD><p>The method will return a sensor specific error description based
 on the error code given as a parameter. The description MUST NOT
 be an empty string or <code>null</code>.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>errorCode</CODE> - the code of the error occured
<DT><B>Returns:</B><DD>the description of the error which occured
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - if the given errorCode is not valid and always if the
 property <code>SensorInfo.PROP_IS_REPORTING_ERRORS</code> is not set</DL>
</DD>
</DL>
<HR>

<A NAME="getSensorInfo()"><!-- --></A><H3>
getSensorInfo</H3>
<PRE>
<A HREF="../../../javax/microedition/sensor/SensorInfo.html" title="interface in javax.microedition.sensor">SensorInfo</A> <B>getSensorInfo</B>()</PRE>
<DL>
<DD><p>Returns <code>SensorInfo</code> that contains information about the
 sensor</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>a <code>SensorInfo</code> object containing information
 about this sensor</DL>
</DD>
</DL>
<HR>

<A NAME="getState()"><!-- --></A><H3>
getState</H3>
<PRE>
int <B>getState</B>()</PRE>
<DL>
<DD><p>Returns the current state of the <code>SensorConnection</code>.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the state of the <code>SensorConnection</code>; possible
 return values are:
 <ul>
 <li><A HREF="../../../javax/microedition/sensor/SensorConnection.html#STATE_OPENED"><CODE>STATE_OPENED</CODE></A></li>
 <li><A HREF="../../../javax/microedition/sensor/SensorConnection.html#STATE_LISTENING"><CODE>STATE_LISTENING</CODE></A></li>
 <li><A HREF="../../../javax/microedition/sensor/SensorConnection.html#STATE_CLOSED"><CODE>STATE_CLOSED</CODE></A></li>
 </ul></DL>
</DD>
</DL>
<HR>

<A NAME="removeDataListener()"><!-- --></A><H3>
removeDataListener</H3>
<PRE>
void <B>removeDataListener</B>()</PRE>
<DL>
<DD><p>Removes the <code>DataListener</code> registered to this
 <code>SensorConnection</code>. The <code>DataListener</code>
 stops getting <A HREF="../../../javax/microedition/sensor/DataListener.html#dataReceived(javax.microedition.sensor.SensorConnection, javax.microedition.sensor.Data[], boolean)"><CODE>dataReceived()</CODE></A> notifications.
 The state changes from STATE_LISTENING to STATE_OPENED,
  and data can now be retrieved synchronously using <code>getData()</code> methods.
 If there is no <code>DataListener</code> and the state is
 STATE_OPENED, the method returns silently.</p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalStateException</CODE> - if this
 <code>SensorConnection</code>
 is already closed</DL>
</DD>
</DL>
<HR>

<A NAME="setDataListener(javax.microedition.sensor.DataListener, int)"><!-- --></A><H3>
setDataListener</H3>
<PRE>
void <B>setDataListener</B>(<A HREF="../../../javax/microedition/sensor/DataListener.html" title="interface in javax.microedition.sensor">DataListener</A>&nbsp;listener,
                     int&nbsp;bufferSize)</PRE>
<DL>
<DD><p>Registers a <code>DataListener</code> to receive collected data
 asynchronously. The registered <code>DataListener</code> receives data within
 sequential <A HREF="../../../javax/microedition/sensor/DataListener.html#dataReceived(javax.microedition.sensor.SensorConnection, javax.microedition.sensor.Data[], boolean)"><CODE>dataReceived()</CODE></A>
 notifications. The notification
 is sent when the number of collected data values equals a set size
 of the buffer. To quit receiving
 notifications the method <A HREF="../../../javax/microedition/sensor/SensorConnection.html#removeDataListener()"><CODE>removeDataListener()</CODE></A> has to be
 called. Data MUST NOT be sent after the sensor becomes
 unavailable.
 </p>
 
 <p>If there is a <code>DataListener</code> already set, it will be
 replaced with the listener given as a parameter. When this
 <code>setDataListener()</code> method is used, timestamp,
 validity, and
 uncertainty values are not included in the <code>Data</code>
 objects. 
 </p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>listener</CODE> - <code>DataListener</code> to be registered<DD><CODE>bufferSize</CODE> - size of the buffer, value must be &gt; 0
<DT><B>Throws:</B>
<DD><CODE>java.lang.NullPointerException</CODE> - if the listener is <code>null</code>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - if the
 bufferSize &lt; 1, or if
 bufferSize exceeds the maximum size of the buffer
<DD><CODE>java.lang.IllegalStateException</CODE> - if this
 <code>SensorConnection</code> is already closed</DL>
</DD>
</DL>
<HR>

<A NAME="setDataListener(javax.microedition.sensor.DataListener, int, long, boolean, boolean, boolean)"><!-- --></A><H3>
setDataListener</H3>
<PRE>
void <B>setDataListener</B>(<A HREF="../../../javax/microedition/sensor/DataListener.html" title="interface in javax.microedition.sensor">DataListener</A>&nbsp;listener,
                     int&nbsp;bufferSize,
                     long&nbsp;bufferingPeriod,
                     boolean&nbsp;isTimestampIncluded,
                     boolean&nbsp;isUncertaintyIncluded,
                     boolean&nbsp;isValidityIncluded)</PRE>
<DL>
<DD><p>Registers a <code>DataListener</code> to receive collected data
 asynchronously. The registered <code>DataListener</code> receives data within
 sequential <A HREF="../../../javax/microedition/sensor/DataListener.html#dataReceived(javax.microedition.sensor.SensorConnection, javax.microedition.sensor.Data[], boolean)"><CODE>dataReceived()</CODE></A>
 notifications.  
 If there is a <code>DataListener</code> already set, it will be
 replaced with the given listener parameter. To quit receiving
 notifications the method <A HREF="../../../javax/microedition/sensor/SensorConnection.html#removeDataListener()"><CODE>removeDataListener()</CODE></A> has to be
 called.</p>

<p>The parameters of the method have an effect on retrieved <code>Data</code>
 objects. The size of the data value buffer is defined and/or the
 time period to buffer the data and
 whether the additional information, such as timestamps,
 uncertainties, and validities, should be included.
 The data value buffer size is controlled with both parameters
 <code>bufferSize</code> and <code>bufferingPeriod</code>.
 A negative value indicates that the parameter is left undefined.
 The <code>bufferSize</code> and <code>bufferingPeriod</code> have the
 following relationship:</p>
 <ul>
 <li> if the bufferSize is &lt; 1 then the bufferingPeriod must
 be &gt; 0. In this case the size of the buffer inside the
 <code>Data</code> object is determined by how much
 data is retrieved from the sensor during the bufferingPeriod.
 However, the size of the buffer MUST NOT exceed the
 the maximum buffer size of the sensor, obtained with the
 method <A HREF="../../../javax/microedition/sensor/SensorInfo.html#getMaxBufferSize()"><CODE>SensorInfo.getMaxBufferSize()</CODE></A>.</li>
 <li> if the bufferingPeriod is &lt; 1 then the bufferSize must
 be &gt; 0. The size of the buffer inside <code>Data</code>
 object equals to bufferSize.</li>
 <li> if the bufferSize &gt; 0 and the bufferingPeriod &gt; 0, the
 <code>dataReceived()</code> notification will be sent when either the size of the
 data value buffer equals the bufferSize, or the collection time equals, or exceeds
 the bufferingPeriod. That is, if the sampling rate of the sensor
 fluctuates a lot,
 then also the buffer sizes inside <A HREF="../../../javax/microedition/sensor/Data.html" title="interface in javax.microedition.sensor"><CODE>Data</CODE></A> objects may differ a
 lot. The size of the buffer can be equal to or less than
 bufferSize. Data MUST NOT be sent after the sensor becomes
 unavailable.</li>
 </ul>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>listener</CODE> - the listener to be registered<DD><CODE>bufferSize</CODE> - the size of the buffer of the data values,
 bufferSize &lt; 1 means the size is left undefined<DD><CODE>bufferingPeriod</CODE> - the time in milliseconds to buffer
 values inside one <code>Data</code> object. bufferingPeriod &lt;
 1 means the period is left
 undefined.<DD><CODE>isTimestampIncluded</CODE> - if <code>true</code> timestamps
 should be included in returned <code>Data</code> objects<DD><CODE>isUncertaintyIncluded</CODE> - if <code>true</code> uncertainties
 should be included in returned <code>Data</code> objects<DD><CODE>isValidityIncluded</CODE> - if <code>true</code> validities
 should be included in returned <code>Data</code> objects
<DT><B>Throws:</B>
<DD><CODE>java.lang.NullPointerException</CODE> - if the listener is <code>null</code>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - if the bufferSize and
 the bufferingPeriod both are &lt; 1 or if
 bufferSize exceeds the maximum size of the buffer
<DD><CODE>java.lang.IllegalStateException</CODE> - if this
 <code>SensorConnection</code> is already closed</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/SensorConnection.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b>Mobile Sensor API Version 1.2</b></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../javax/microedition/sensor/RangeCondition.html" title="class in javax.microedition.sensor"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../javax/microedition/sensor/SensorInfo.html" title="interface in javax.microedition.sensor"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?javax/microedition/sensor/SensorConnection.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="SensorConnection.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
<font size=-1>Copyright &#x00A9; 2005-2008 Nokia Corporation. All
			 Rights Reserved.<br/>Java is a trademark of Sun Microsystems, Inc.</font>
</BODY>
</HTML>
